# update trigger test

name: Run Smartsheet Auto

on:
  schedule:
    # รันทุกปี วันที่ 26 ตุลาคม เวลา 09:00 (เวลาของ GitHub คือ UTC)
    # ถ้าอยากให้ตรงเวลาไทย (GMT+7) ต้องตั้งเป็น 02:00 UTC
    - cron: '0 2 26 10 *'   # <== หมายถึง 26 ตุลาคม ของทุกปี เวลา 02:00 UTC
  workflow_dispatch:         # เพิ่มเพื่อให้กด "Run workflow" เองได้ด้วย

jobs:
  run:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Setup Python
        uses: actions/setup-python@v5
        with:
          python-version: "3.11"

      - name: Install dependencies
        run: |
          pip install smartsheet-python-sdk

      - name: Run Smartsheet script
        env:
          SMARTSHEET_TOKEN: ${{ secrets.SMARTSHEET_TOKEN }}
        run: python New.py
